üõí E-Commerce API (MongoDB + Express + Node.js)
üìå –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –∑–∞–∫–∞–∑–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Node.js, Express –∏ MongoDB.

üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
‚úî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT)
‚úî CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
‚úî –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤
‚úî –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏
‚úî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MongoDB Atlas –∏ –¥–µ–ø–ª–æ–π –Ω–∞ Render

üîß 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1.1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-repo/ecommerce-api.git
cd ecommerce-api

1.2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

1.3. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env
–°–æ–∑–¥–∞–π .env –≤ –∫–æ—Ä–Ω–µ –∏ –∑–∞–ø–æ–ª–Ω–∏:
MONGO_URI=your_mongodb_connection_string
JWT_SECRET=your_secret_key
PORT=5000

1.4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start
–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:5000.


üåç 2Ô∏è‚É£ –î–µ–ø–ª–æ–π –Ω–∞ Render
2.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/your-repo/ecommerce-api.git
git push -u origin main
2.2. –î–µ–ø–ª–æ–π –Ω–∞ Render
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ Render
–°–æ–∑–¥–∞–π New Web Service
–í—ã–±–µ—Ä–∏ —Å–≤–æ–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
–î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–í—ã–±–µ—Ä–∏ Node.js, npm start
Deploy üöÄ
üîó –¢–≤–æ–π API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ https://your-app.onrender.com.

üîå 3Ô∏è‚É£ API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
3.1. üìå –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
üîπ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/users/register
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
{
  "name": "–ò–≤–∞–Ω",
  "email": "ivan@example.com",
  "password": "123456"
}

–û—Ç–≤–µ—Ç:
{
  "_id": "6523a7...",
  "name": "–ò–≤–∞–Ω",
  "email": "ivan@example.com",
  "role": "user"
}

üîπ –õ–æ–≥–∏–Ω
POST /api/users/login
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
{
  "email": "ivan@example.com",
  "password": "123456"
}
–û—Ç–≤–µ—Ç:
{
  "token": "eyJhbGciOi...",
  "user": {
    "_id": "6523a7...",
    "name": "–ò–≤–∞–Ω",
    "email": "ivan@example.com"
  }
}

‚ö† –í–∞–∂–Ω–æ–µ: –î–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–æ–±–∞–≤–ª—è–π —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫:
Authorization: Bearer <your_token>

3.2. üõçÔ∏è –¢–æ–≤–∞—Ä—ã
üîπ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
POST /api/products
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
{
  "name": "–ù–æ—É—Ç–±—É–∫",
  "price": 800,
  "description": "–ò–≥—Ä–æ–≤–æ–π –Ω–æ—É—Ç–±—É–∫",
  "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
  "stock": 5
}
–û—Ç–≤–µ—Ç:
{
  "_id": "6523a8...",
  "name": "–ù–æ—É—Ç–±—É–∫",
  "price": 800,
  "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
}

üîπ –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
GET /api/products
–û—Ç–≤–µ—Ç:
[
  {
    "_id": "6523a8...",
    "name": "–ù–æ—É—Ç–±—É–∫",
    "price": 800,
    "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
  }
]

3.3. üì¶ –ó–∞–∫–∞–∑—ã
üîπ –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
POST /api/orders

–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
{
  "products": ["6523a8...", "6523a9..."]
}

–û—Ç–≤–µ—Ç:
{
  "_id": "6523b0...",
  "user": "6523a7...",
  "products": ["6523a8...", "6523a9..."],
  "status": "Pending"
}

üîπ –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /api/orders

–û—Ç–≤–µ—Ç:
[
  {
    "_id": "6523b0...",
    "products": [
      {
        "_id": "6523a8...",
        "name": "–ù–æ—É—Ç–±—É–∫"
      }
    ],
    "status": "Pending"
  }
]
üõ† 4Ô∏è‚É£ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
üîπ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
–ò—Å–ø–æ–ª—å–∑—É–µ–º Joi –∏–ª–∏ Mongoose –≤–∞–ª–∏–¥–∞—Ü–∏—é:
npm install joi
–ü—Ä–∏–º–µ—Ä –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ controllers/userController.js:
const Joi = require('joi');

const schema = Joi.object({
  name: Joi.string().min(3).required(),
  email: Joi.string().email().required(),
  password: Joi.string().min(6).required()
});

const { error } = schema.validate(req.body);
if (error) return res.status(400).json({ error: error.details[0].message });

üîπ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
–ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Å bcryptjs.

üîπ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ò—Å–ø–æ–ª—å–∑—É–µ–º dotenv –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ CORS –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞.

üîπ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è
–î–æ–±–∞–≤–ª—è–µ–º ?page=1&limit=10 –¥–ª—è –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Ç–æ–≤–∞—Ä–æ–≤.

üìú 5Ô∏è‚É£ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
ecommerce-api/
‚îÇ‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ product.js
‚îÇ   ‚îú‚îÄ‚îÄ user.js
‚îÇ   ‚îú‚îÄ‚îÄ order.js
‚îÇ‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ productRoutes.js
‚îÇ   ‚îú‚îÄ‚îÄ userRoutes.js
‚îÇ   ‚îú‚îÄ‚îÄ orderRoutes.js
‚îÇ‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ productController.js
‚îÇ   ‚îú‚îÄ‚îÄ userController.js
‚îÇ   ‚îú‚îÄ‚îÄ orderController.js
‚îÇ‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ authMiddleware.js
‚îÇ‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ db.js
‚îÇ‚îÄ‚îÄ .env
‚îÇ‚îÄ‚îÄ server.js
‚îÇ‚îÄ‚îÄ package.json
‚îÇ‚îÄ‚îÄ README.md

üéØ 6Ô∏è‚É£ –ò—Ç–æ–≥

‚úÖ –ó–∞–ø—É—Å–∫: npm start
‚úÖ API –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞: http://localhost:5000
‚úÖ –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Render: https://your-app.onrender.com
